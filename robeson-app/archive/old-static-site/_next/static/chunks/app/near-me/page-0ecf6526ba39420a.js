(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{973:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var r=a(5155),l=a(2115),t=a(5695),n=a(6874),i=a.n(n),o=a(6610),c=a(1808),d=a(7944),g=a(2014),m=a(3853),h=a(3412);function x(){let e=(0,t.useRouter)(),[s,a]=(0,l.useState)([]),[n,x]=(0,l.useState)([]),[u,p]=(0,l.useState)("\uD83D\uDCCD Near me"),[b,j]=(0,l.useState)(!0),[N,f]=(0,l.useState)(null),[y,v]=(0,l.useState)("list"),[w,C]=(0,l.useState)(null);return((0,l.useEffect)(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:a}=e.coords;f({lat:s,lon:a})},e=>{console.error("Error getting location:",e),C("Unable to get your location. Please enable location services and refresh the page.")}):C("Geolocation is not supported by your browser."),async function(){try{let e=await (0,o.i)();a(e),j(!1)}catch(e){console.error("Error loading organizations:",e),j(!1)}}()},[]),(0,l.useEffect)(()=>{0!==s.length&&N&&x((0,o.T)(s,"All","\uD83D\uDCCD Near me"===u?"":u,N||void 0))},[s,u,N]),b)?(0,r.jsx)("main",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,s)=>(0,r.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg"},s))})]})})}):(0,r.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-4",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)(i(),{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-offset-2 transition-all transform hover:scale-105","aria-label":"Go back to all categories",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,r.jsx)("span",{children:"Back to All Categories"})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-4xl",children:"\uD83D\uDCCD"}),"Resources Near Me"]}),N&&!w&&(0,r.jsxs)("p",{className:"text-gray-600 mt-2",children:["Showing ",n.length," resources sorted by distance from your location"]})]}),w&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-800",children:w})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(d.A,{searchTerm:u,onSearchChange:p,placeholder:"Search resources near you..."})}),(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDCCD Sorted by distance"})," - Closest resources first"]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>v("list"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("list"===y?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),"aria-pressed":"list"===y,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDCCB"})," List"]})}),(0,r.jsx)("button",{onClick:()=>v("map"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("map"===y?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),"aria-pressed":"map"===y,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDDFAï¸"})," Map"]})})]})]}),N&&!w?"list"===y?(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(e=>(0,r.jsx)(c.A,{organization:e},e.id))}):(0,r.jsx)("div",{className:"h-[600px] bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsx)(g.default,{organizations:n,allOrganizations:s,selectedCategory:"All",onCategorySelect:s=>{e.push(null===s?"/":"/category/".concat((0,m.HW)(s)))},onOrganizationClick:e=>{console.log("Organization clicked:",e)}})}):(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Waiting for location access..."})}),0===n.length&&N&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-600",children:"No resources found near your location."})})]}),(0,r.jsx)(h.A,{})]})}},9730:(e,s,a)=>{Promise.resolve().then(a.bind(a,973))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,610,14,235,441,684,358],()=>s(9730)),_N_E=e.O()}]);