(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{1650:(e,s,a)=>{Promise.resolve().then(a.bind(a,6226))},6226:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var r=a(5155),i=a(2115),l=a(5695),n=a(6874),t=a.n(n),o=a(3395),c=a(6610),d=a(1808),g=a(7944),m=a(7136),u=a(3853),h=a(3412);function x(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),a=e.slug,n=(0,u.f4)(a),[x,p]=(0,i.useState)([]),[j,b]=(0,i.useState)([]),[f,N]=(0,i.useState)(""),[v,y]=(0,i.useState)(!0),[w,C]=(0,i.useState)(null),[S,k]=(0,i.useState)("list"),[D,A]=(0,i.useState)(null);if((0,i.useEffect)(()=>{if(!n)return void s.push("/");!async function(){try{let e=await (0,c.i)();p(e),y(!1)}catch(e){console.error("Error loading organizations:",e),y(!1)}}()},[n,s]),(0,i.useEffect)(()=>{n&&0!==x.length&&b((0,c.T)(x,n,f,w||void 0))},[x,n,f,w]),v)return(0,r.jsx)("main",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,s)=>(0,r.jsx)("div",{className:"h-48 bg-gray-200 rounded-lg"},s))})]})})});if(!n)return null;let E=o.C[n]||"\uD83D\uDCCD";return(0,r.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-4",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)(t(),{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-offset-2 transition-all transform hover:scale-105","aria-label":"Go back to all categories",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,r.jsx)("span",{children:"Back to All Categories"})]})}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-4xl",children:E}),n]}),(0,r.jsxs)("p",{className:"text-gray-600 mt-2",children:[j.length," resources available"]})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(g.A,{searchTerm:f,onSearchChange:N,onNearMe:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:a}=e.coords;C({lat:s,lon:a}),N("\uD83D\uDCCD Near me")},e=>{console.error("Error getting location:",e),alert("Unable to get your location. Please enable location services.")}):alert("Geolocation is not supported by your browser.")},placeholder:"Search ".concat(n,"...")})}),(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-sm text-gray-600",children:w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDCCD Sorted by distance"})," - Showing ",n," nearest to your location first"]}):(0,r.jsxs)(r.Fragment,{children:["Crisis Services"===n&&(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDEA8 Crisis services sorted by priority"}),"Crisis Services"!==n&&(0,r.jsxs)("span",{className:"font-medium",children:["Showing ",n," resources"]})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>k("list"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("list"===S?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),"aria-pressed":"list"===S,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDCCB"})," List"]})}),(0,r.jsx)("button",{onClick:()=>k("map"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("map"===S?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),"aria-pressed":"map"===S,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:"\uD83D\uDDFAï¸"})," Map"]})})]})]}),"list"===S?(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:j.map(e=>(0,r.jsx)(d.A,{organization:e},e.id))}):(0,r.jsx)("div",{className:"h-[600px] bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsx)(m.A,{organizations:null===D||D===n?j:(0,c.T)(x,D),allOrganizations:x,selectedCategory:D||n,onCategorySelect:e=>{A(e)},onOrganizationClick:e=>{console.log("Organization clicked:",e)}})}),0===j.length&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-600",children:"No resources found matching your criteria."})})]}),(0,r.jsx)(h.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[244,610,136,886,441,684,358],()=>s(1650)),_N_E=e.O()}]);