(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{2376:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var l=t(5155),a=t(2115),r=t(5695),n=t(6874),i=t.n(n),o=t(3395),c=t(6610),d=t(7136);function m(){(0,r.useRouter)();let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),h=(0,a.useRef)(null);return((0,a.useEffect)(()=>{!async function(){try{let e=await (0,c.i)();s(e),n(!1)}catch(e){console.error("Error loading organizations:",e),n(!1)}}()},[]),(0,a.useEffect)(()=>{if(!t&&h.current){let e=h.current,s=(2e3-e.clientWidth)/2,t=(2e3-e.clientHeight)/2;e.scrollLeft=s,e.scrollTop=t}},[t]),t)?(0,l.jsx)("div",{className:"fixed inset-0 bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4"}),(0,l.jsx)("div",{className:"h-64 w-64 bg-gray-200 rounded-lg"})]})}):(0,l.jsxs)("div",{className:"fixed inset-0 flex flex-col",children:[(0,l.jsx)("div",{className:"bg-white shadow-sm z-10 flex-shrink-0",children:(0,l.jsxs)("div",{className:"px-3 sm:px-4 py-2 sm:py-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-3",children:[(0,l.jsxs)(i(),{href:"/",className:"inline-flex items-center gap-1.5 px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all text-sm sm:text-base flex-shrink-0","aria-label":"Go back to all categories",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"Back to Categories"}),(0,l.jsx)("span",{className:"sm:hidden",children:"Back"})]}),(0,l.jsx)("h1",{className:"text-base sm:text-lg md:text-xl font-semibold text-gray-900 text-center px-2",children:"All Resources Map"}),(0,l.jsx)("div",{className:"w-16 sm:w-32 flex-shrink-0"})," "]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 border-t pt-3",children:[(0,l.jsx)("label",{htmlFor:"category-filter",className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Filter by category:"}),(0,l.jsxs)("select",{id:"category-filter",value:m||"",onChange:e=>x(e.target.value||null),className:"w-full sm:w-auto px-4 py-2 pr-10 rounded-lg border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer",children:[(0,l.jsxs)("option",{value:"",children:["All Categories (",e.length," locations)"]}),Array.from(new Set(e.map(e=>e.category))).sort().map(s=>{let t=o.C[s]||"\uD83D\uDCCD",a=e.filter(e=>e.category===s).length;return(0,l.jsxs)("option",{value:s,children:[t," ",s," (",a," locations)"]},s)})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(0,l.jsx)("span",{className:"font-medium",children:m?(0,c.T)(e,m).length:e.length})," of ",(0,l.jsx)("span",{className:"font-medium",children:e.length})," locations"]})]})]})}),(0,l.jsx)("div",{ref:h,className:"flex-1 relative overflow-auto",children:(0,l.jsx)("div",{className:"w-[2000px] h-[2000px]",children:(0,l.jsx)(d.A,{organizations:m?(0,c.T)(e,m):e,allOrganizations:e,selectedCategory:m,onCategorySelect:e=>{x(e)},onOrganizationClick:e=>{console.log("Organization clicked:",e)}})})})]})}},5848:(e,s,t)=>{Promise.resolve().then(t.bind(t,2376))}},e=>{var s=s=>e(e.s=s);e.O(0,[244,610,136,441,684,358],()=>s(5848)),_N_E=e.O()}]);